{
  "description": "Monitors both production and preview environments simultaneously with color-coded status indicators. Perfect for teams managing multiple deployment targets. Shows real-time status of your latest production and preview deployments with green/yellow/red indicators for quick visual assessment. Setup: Export environment variables 'export VERCEL_TOKEN=your_token' and 'export VERCEL_ORG_ID=your_team_id' (or manually replace $VERCEL_TOKEN and $VERCEL_ORG_ID in the command if you prefer not to use environment variables). Get your token from vercel.com/account/tokens and team ID from your Vercel dashboard.",
  "statusLine": {
    "type": "command",
    "command": "bash -c 'input=$(cat); MODEL=$(echo \"$input\" | jq -r \".model.display_name\"); DIR=$(echo \"$input\" | jq -r \".workspace.current_dir\"); TOKEN=\"$VERCEL_TOKEN\"; TEAM=\"$VERCEL_ORG_ID\"; PROJECT=$(basename \"$PWD\"); DEPLOYS=$(timeout 5 curl -s -H \"Authorization: Bearer $TOKEN\" \"https://api.vercel.com/v6/deployments?projectId=$PROJECT&teamId=$TEAM&limit=3\" 2>/dev/null); PROD=$(echo \"$DEPLOYS\" | grep -B5 -A5 '\"target\":\"production\"' | grep -o '\"state\":\"[^\"]*\"' | head -1 | cut -d'\"' -f4); PREVIEW=$(echo \"$DEPLOYS\" | grep -B5 -A5 '\"target\":\"preview\"' | grep -o '\"state\":\"[^\"]*\"' | head -1 | cut -d'\"' -f4); PROD_ICON=$([ \"$PROD\" = \"READY\" ] && echo \"🟢\" || [ \"$PROD\" = \"BUILDING\" ] && echo \"🟡\" || echo \"🔴\"); PREV_ICON=$([ \"$PREVIEW\" = \"READY\" ] && echo \"🟢\" || [ \"$PREVIEW\" = \"BUILDING\" ] && echo \"🟡\" || echo \"🔴\"); echo \"[$MODEL] 🚀 Prod:$PROD_ICON Prev:$PREV_ICON | 📁 ${DIR##*/}\"'"
  }
}